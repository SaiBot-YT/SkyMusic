<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-166077524-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-166077524-1');
    </script>
    <script type='text/javascript'>
        window.smartlook||(function(d) {
          var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
          var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
          c.charset='utf-8';c.src='https://rec.smartlook.com/recorder.js';h.appendChild(c);
          })(document);
          smartlook('init', '733210bc901cb85d79d7d23131054a0a6f13ea53');
      </script>
    <link rel="icon" type="image/png" href="/favicon.png"/>
    <link rel="shortcut icon" href="/favicon.png?v=2" type="image/x-icon" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale = 1.0"/>
    <title>Sky Music</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link rel="stylesheet" href="style.css" type="text/css">
</head>

<body>
    <!--https://www.flaticon.com/free-icon/rotate-smartphone_81564?term=rotate%20phone&page=1&position=22-->
    <div id="rotateDevice" onclick="this.style.display = 'none'">
        <button onclick="ignoreRotation()"class="skyButton" style=" position:absolute; left: 0;">Never show again</button>
        <img src="icons/rotate.svg" width="50%" height="50%">
        <h1 style="margin:0.5em;">The website is better used in Landscape, please rotate your device.</h1>
        <h2 class="bottom" style="color: rgba(235, 0, 27, 1)">Click anywhere to close</h2>
    </div>
    <div class="secondPage" id="secondPage" onclick="$('#icon-bar').fadeOut(200),menuButton.style.display = 'block'">

        <div id="login">
            <div id="loginContainer">
              <h1>Account</h1>
              <div>
                <label class="formLabel"><b>EMAIL</b></label>
                <input type="text" placeholder="Enter email" class="formInput" id="emailLogin">
      
                <label class="formLabel"><b>PASSWORD</b></label>
                <input type="password" placeholder="Enter Password" class="formInput" id="passwordLogin">
                <button onclick = "login(false)">LOGIN</button>
      
                <span onclick="toggleRegister()"><a href="#">Create account</a></span><span id="forgotLink" onclick="toggleReset()"><a href="#">Forgot password?</a></span>
              </div> 
            </div>
          </div>
          <div id="register">
            <div id="registerContainer">
                <h1>Register to Sky Music!</h1>
                <div>
                  <label class="formLabel"><b>EMAIL</b></label>
                  <input type="text" placeholder="Enter Email" class="formInput" id="emailRegister">
        
                  <label class="formLabel"><b>PASSWORD</b></label>
                  <input type="password" placeholder="Enter Password" class="formInput" id="passwordRegister">

                  <label class="formLabel"><b>CONFIRM PASSWORD</b></label>
                  <input type="password" placeholder="Enter again Password" class="formInput" id="passwordRegister2">
        
                  <button class="submitButton" onclick = "register()">REGISTER</button>
                  <span onclick="resetPages()"><a href="#">Go back</a></span>
                </div> 
              </div>
          </div>
          <div id="confirmRegistration">
            <div id="confirmContainer">
                <h1>Register to Sky Music!</h1>
                <div>       
                  <label id="confirmationLabel" class="formLabel"><b>CODE</b></label>
                  <input type="password" placeholder="Enter code" class="formInput" id="codeConfirmation">
                  <button class="submitButton" onclick = "confirmEmail()">CONFIRM</button>
                  <span onclick="resetPages()"><a href="#">Go back</a></span>
                </div> 
              </div>
          </div>
          <div id="resetPassword">
            <div id="resetContainer">
                <h1>Reset Password!</h1>
                <div>
                  <label class="formLabel"><b>EMAIL</b></label>
                  <input type="text" placeholder="Enter Email" class="formInput" id="emailReset">
                  <button class="submitButton" onclick = "resetPassword()">SUBMIT</button>
                  <span onclick="resetPages()"><a href="#">Go back</a></span>
                </div> 
              </div>
          </div>
          <div id="verifyPasswordAndCode">
            <div id="resetContainer">
                <h1>Reset Password!</h1>
                <div>       
                  <label class="formLabel"><b>RESET CODE</b></label>
                  <input type="text" placeholder="Enter reset code" class="formInput" id="resetcodeConfirmation">
                  <label class="formLabel"><b>NEW PASSWORD</b></label>
                  <input type="password" placeholder="Enter your new password" class="formInput" id="newpassword">
                  <label class="formLabel"><b>CONFIRM NEW PASSWORD</b></label>
                  <input type="password" placeholder="Re-enter your new password" class="formInput" id="newpasswordconfirm">
                  <button class="submitButton" onclick = "checkResetCode()">SUBMIT</button>
                  <span onclick="resetPages()"><a href="#">Go back</a></span>
                </div> 
              </div>
          </div>
          <div id="settings">
              <div id="settingsContainer">
                <h1>Settings</h1>
                <div style="overflow-y:scroll; height: 72vh; margin-bottom: 1em;">       
                    <button  onclick = "changeSettings(this)" id="Disable next key practice">Disable next key practice</button>
                    <button onclick = "changeSettings(this)" id="Hide practice note animation">Hide practice note animation</button>
                    <button onclick = "changeSettings(this)" id="Display Note Names">Display Note Names</button>
                    <button onclick = "checkMidiAccess()">Check MIDI support</button>
                    <button onclick = "resetLocalStorage()">Reset all songs and settings</button>
                </div> 
                <span onclick="resetPages()"><a href="#">Go back</a></span>
              </div>
          </div>
    </div>


    <div id="savedSongsDivWrapper" class="floatingDiv">
        <div class="tab">
            <button id="localStoredBtn" class="tablinks active" onclick="openSonglist(event, 'localSongs')">My songs</button>
            <button class="tablinks" onclick="openSonglist(event, 'dbSongs')">Database songs</button>
          </div>
        <!--Local Songs-->
          <div id="localSongs" class="tabcontent">
            <h3 id="localSongsH3">Here are all your songs!</h3>
            <div id="savedSongsDiv" class="topSavedSongsDiv"></div>
            <div class = "bottomSavedSongsDiv">
                <button class="skyButton" onclick="importSongs()">Import songs</button>
                <button class="skyButton" onclick="downloadSongs()">Download songs</button>
                <input type=file style="display:none;" id="filePicker">
            </div>
          </div>
        <!--Database Songs-->
          <div id="dbSongs" class="tabcontent">
            <h3>Here are all the songs saved in your account!</h3>
            <div id="dbSongsDiv" class="topSavedSongsDiv"></div>
            <div class = "bottomSavedSongsDiv">
                <button class="skyButton" onclick="syncDB()">Reload</button>
                <button class="skyButton" onclick="storeSongsLocally()">Store all songs locally</button>
            </div>
          </div>
    </div>
    <button id="menu" style="display: block;"onclick="showMenu()"></button>
    <div id="icon-bar">
        <button class="skyButton_2" onclick='resetPages(),showMenu(),document.getElementById("login").style.display = "none"'><p class="texts">Main page</p></button>
        <button class="skyButton_2" onclick="toggleLogin()"><p class="texts">Account</p></button>
        <button class="skyButton_2" onclick="toggleSettings()"><p class="texts">Settings</p></button>
        <button class="skyButton_2" onclick='window.open("songLibrary.html")'><p class="texts">Song Library</p></button>
        <button class="skyButton_2" onclick='window.open("help.html")'><p class="texts">Need help?</p></button>
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
            <input type="hidden" name="cmd" value="_s-xclick" />
            <input type="hidden" name="hosted_button_id" value="MFTNUQL2Z8UWW" />
            <input style="width: 60%; position:absolute; bottom:0%; margin-left:20%;" type="image" src="https://cdn.discordapp.com/attachments/705815759879798824/709162406168756314/paypal-donate-button.png" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
            <img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" />
        </form>
            
    </div>
    <div class="menuDiv">
        <button class="skyButton" onclick="toggleSavedSongs()">Manage Recordings</button>
        <button class="skyButton" id="toggleRecordBtn" onclick="toggleRecord()"> Start/Stop recording</button>
        <button class="musicButton" id="toggleInstruments" onclick="toggleInstrumentList()"></button>
        <button class="pitchButton" id="togglePitchList" onclick="togglePitchList()">Key</button>
        <button class="pitchButton" style="font-size: 1.3em; background-image: url(./icons/reverb.png);"id="toggleReverbBtn" onclick="toggleReverb()"></button>
        <button id="stopSong" onclick="stopSong()"></button>
    </div>
    <div class="videoWrapper video">
        <div class="vsc-controller" data-vscid="jvm0gu2z7"></div>
        <video preload="auto" playsinline="" muted="" autoplay="" loop="" data-vscid="jvm0gu2z7">
            <source src="./AnimatedBG/skygame-banner2.mp4" type="video/mp4;codecs=&quot;avc1.42E01E, mp4a.40.2&quot;">
        </video>
    </div>
    <div id=touch>
        <div class="Row1" id="row1"></div>
        <div class="Row2" id="row2"></div>
        <div class="Row3" id="row3"></div>
    </div>
    <div id="instrumentsNew" class="instrumentsWrapper">
        <button type="button" id="pianoBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/piano.png);"></button>
        <button type="button" id="harpBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/harp.png);"></button>
        <button type="button" id="guitarBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/guitar.png);"></button>
        <button type="button" id="fluteBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/flute.png);"></button>
        <button type="button" id="xylophoneBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/xylophone.png);"></button>
        <button type="button" id="hornBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/horn.png);"></button>
        <button type="button" id="drumBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/drum.png);"></button>
        <button type="button" id="bellBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/bell.png);"></button>
        <!--<button type="button" id="bassBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/bass.png);"/></button>
        <button type="button" id="winterPiano" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/winterPiano.png);"/></button>
        <button type="button" id="banjoBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/banjoBtn.png);"/></button> 
        <button type="button" id="panfluteBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/panflute.png);"/></button>  
        TO REMOVE ONCE NEW INSTRUMENTS ARE ADDED
        -->
        <div style="color: rgba(235, 0, 27, 1); font-size:1.2em; font-weight: bold; margin-top: 15px; margin-bottom: 5px;">
            OLD
        </div>
        <button type="button" id="oldHarpBtn" class="instrumentButton"  onclick="changeInstrument(this)" style="background-image: url(./images/harp.png);"/>
        
    </div>
    <div id="pitchTab" class="instrumentsWrapper">
        <button class="pitchSelection" onclick="changePitch(this)">1</button>
        <button class="pitchSelection" onclick="changePitch(this)">2</button>
        <button class="pitchSelection" onclick="changePitch(this)">3</button>
        <button class="pitchSelection" onclick="changePitch(this)">4</button>
        <button class="pitchSelection" onclick="changePitch(this)">5</button>
        <button class="pitchSelection" onclick="changePitch(this)">6</button>
        <button class="pitchSelection" onclick="changePitch(this)">7</button>
        <button class="pitchSelection" onclick="changePitch(this)">8</button>
        <button class="pitchSelection" onclick="changePitch(this)">9</button>
        <button class="pitchSelection" onclick="changePitch(this)">10</button>
        <button class="pitchSelection" onclick="changePitch(this)">11</button>
        <button class="pitchSelection" onclick="changePitch(this)" style="border:none;">12</button>
    </div>
    <div id="songRange" class="songRange">
        <input type="number" id="startingNoteRange" value="0"><br>
        <input id="rangePicker" type="range" max="10" min="0" orient="vertical" ><br>
        <input type="button" style="background-color: transparent; border: none; font-size: 1.5em; outline: none;" onclick="retry()" value="🔄">
    </div>
    <div id="floatingMessage" class="floatingMessage"> placeholder text </div>
</body>
<input type="sleeping" placeholder="username" style="display: none"> <!-- Easter egg-->
<script type="text/javascript" src="app.js"></script>
</html>
